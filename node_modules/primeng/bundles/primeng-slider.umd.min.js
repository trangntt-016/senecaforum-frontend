!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("primeng/dom"),require("@angular/forms")):"function"==typeof define&&define.amd?define("primeng/slider",["exports","@angular/core","@angular/common","primeng/dom","@angular/forms"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).primeng=e.primeng||{},e.primeng.slider={}),e.ng.core,e.ng.common,e.primeng.dom,e.ng.forms)}(this,(function(e,t,n,a,i){"use strict";var l={provide:i.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return s})),multi:!0},s=function(){function e(e,n,a,i){this.el=e,this.renderer=n,this.ngZone=a,this.cd=i,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new t.EventEmitter,this.onSlideEnd=new t.EventEmitter,this.handleValues=[],this.onModelChange=function(){},this.onModelTouched=function(){},this.handleIndex=0}return e.prototype.onMouseDown=function(e,t){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=t,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&a.DomHandler.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))},e.prototype.onTouchStart=function(e,t){if(!this.disabled){var n=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[t]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=t,"horizontal"===this.orientation?(this.startx=parseInt(n.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(n.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&a.DomHandler.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}},e.prototype.onTouchMove=function(e,t){if(!this.disabled){var n=e.changedTouches[0],a=0;a="horizontal"===this.orientation?Math.floor(100*(parseInt(n.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(n.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,a),e.preventDefault()}},e.prototype.onTouchEnd=function(e,t){this.disabled||(this.dragging=!1,this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value}),this.animate&&a.DomHandler.addClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault())},e.prototype.onBarClick=function(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e)),this.sliderHandleClick=!1)},e.prototype.onHandleKeydown=function(e,t){this.disabled||(38==e.which||39==e.which?this.spin(e,1,t):37!=e.which&&40!=e.which||this.spin(e,-1,t))},e.prototype.spin=function(e,t,n){var a=(this.step||1)*t;this.range?(this.handleIndex=n,this.updateValue(this.values[this.handleIndex]+a),this.updateHandleValue()):(this.updateValue(this.value+a),this.updateHandleValue()),e.preventDefault()},e.prototype.handleChange=function(e){var t=this.calculateHandleValue(e);this.setValueFromHandle(e,t)},e.prototype.bindDragListeners=function(){var e=this;this.ngZone.runOutsideAngular((function(){var t=e.el?e.el.nativeElement.ownerDocument:"document";e.dragListener||(e.dragListener=e.renderer.listen(t,"mousemove",(function(t){e.dragging&&e.ngZone.run((function(){e.handleChange(t)}))}))),e.mouseupListener||(e.mouseupListener=e.renderer.listen(t,"mouseup",(function(t){e.dragging&&(e.dragging=!1,e.ngZone.run((function(){e.range?e.onSlideEnd.emit({originalEvent:t,values:e.values}):e.onSlideEnd.emit({originalEvent:t,value:e.value}),e.animate&&a.DomHandler.addClass(e.el.nativeElement.children[0],"p-slider-animate")})))})))}))},e.prototype.unbindDragListeners=function(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()},e.prototype.setValueFromHandle=function(e,t){this.sliderHandleClick=!1;var n=this.getValueFromHandle(t);this.range?this.step?this.handleStepChange(n,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=t,this.updateValue(n,e)):this.step?this.handleStepChange(n,this.value):(this.handleValue=t,this.updateValue(n,e)),this.cd.markForCheck()},e.prototype.handleStepChange=function(e,t){var n=e-t,a=t;n<0?a=t+Math.ceil(e/this.step-t/this.step)*this.step:n>0&&(a=t+Math.floor(e/this.step-t/this.step)*this.step),this.updateValue(a),this.updateHandleValue()},e.prototype.writeValue=function(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.cd.markForCheck()},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e,this.cd.markForCheck()},Object.defineProperty(e.prototype,"rangeStartLeft",{get:function(){return this.isVertical()?"auto":this.handleValues[0]+"%"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rangeStartBottom",{get:function(){return this.isVertical()?this.handleValues[0]+"%":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rangeEndLeft",{get:function(){return this.isVertical()?"auto":this.handleValues[1]+"%"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rangeEndBottom",{get:function(){return this.isVertical()?this.handleValues[1]+"%":"auto"},enumerable:!1,configurable:!0}),e.prototype.isVertical=function(){return"vertical"===this.orientation},e.prototype.updateDomData=function(){var e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+a.DomHandler.getWindowScrollLeft(),this.initY=e.top+a.DomHandler.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight},e.prototype.calculateHandleValue=function(e){return"horizontal"===this.orientation?100*(e.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-e.pageY)/this.barHeight},e.prototype.updateHandleValue=function(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=100*(this.value-this.min)/(this.max-this.min)},e.prototype.updateValue=function(e,t){if(this.range){var n=e;0==this.handleIndex?(n<this.min?(n=this.min,this.handleValues[0]=0):n>this.values[1]&&(n=this.values[1],this.handleValues[0]=this.handleValues[1]),this.sliderHandleStart.nativeElement.focus()):(n>this.max?(n=this.max,this.handleValues[1]=100):n<this.values[0]&&(n=this.values[0],this.handleValues[1]=this.handleValues[0]),this.sliderHandleEnd.nativeElement.focus()),this.values[this.handleIndex]=this.getNormalizedValue(n),this.values=this.values.slice(),this.onModelChange(this.values),this.onChange.emit({event:t,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:t,value:this.value}),this.sliderHandle.nativeElement.focus()},e.prototype.getValueFromHandle=function(e){return(this.max-this.min)*(e/100)+this.min},e.prototype.getDecimalsCount=function(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0},e.prototype.getNormalizedValue=function(e){var t=this.getDecimalsCount(this.step);return t>0?+e.toFixed(t):Math.floor(e)},e.prototype.ngOnDestroy=function(){this.unbindDragListeners()},e}();s.decorators=[{type:t.Component,args:[{selector:"p-slider",template:'\n        <div [ngStyle]="style" [class]="styleClass" [ngClass]="{\'p-slider p-component\':true,\'p-disabled\':disabled,\n            \'p-slider-horizontal\':orientation == \'horizontal\',\'p-slider-vertical\':orientation == \'vertical\',\'p-slider-animate\':animate}"\n            (click)="onBarClick($event)">\n            <span *ngIf="range && orientation == \'horizontal\'" class="p-slider-range" [ngStyle]="{\'left\':handleValues[0] + \'%\',width: (handleValues[1] - handleValues[0] + \'%\')}"></span>\n            <span *ngIf="range && orientation == \'vertical\'" class="p-slider-range" [ngStyle]="{\'bottom\':handleValues[0] + \'%\',height: (handleValues[1] - handleValues[0] + \'%\')}"></span>\n            <span *ngIf="!range && orientation==\'vertical\'" class="p-slider-range" [ngStyle]="{\'height\': handleValue + \'%\'}"></span>\n            <span *ngIf="!range && orientation==\'horizontal\'" class="p-slider-range" [ngStyle]="{\'width\': handleValue + \'%\'}"></span>\n            <span #sliderHandle *ngIf="!range" [attr.tabindex]="disabled ? null : tabindex" (keydown)="onHandleKeydown($event)" class="p-slider-handle" (mousedown)="onMouseDown($event)" (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd($event)"\n                [style.transition]="dragging ? \'none\': null" [ngStyle]="{\'left\': orientation == \'horizontal\' ? handleValue + \'%\' : null,\'bottom\': orientation == \'vertical\' ? handleValue + \'%\' : null}"\n                [attr.aria-valuemin]="min" [attr.aria-valuenow]="value" [attr.aria-valuemax]="max" [attr.aria-labelledby]="ariaLabelledBy"></span>\n            <span #sliderHandleStart *ngIf="range" [attr.tabindex]="disabled ? null : tabindex" (keydown)="onHandleKeydown($event,0)" (mousedown)="onMouseDown($event,0)" (touchstart)="onTouchStart($event,0)" (touchmove)="onTouchMove($event,0)" (touchend)="onTouchEnd($event)" [style.transition]="dragging ? \'none\': null" class="p-slider-handle" \n                [ngStyle]="{\'left\': rangeStartLeft, \'bottom\': rangeStartBottom}" [ngClass]="{\'p-slider-handle-active\':handleIndex==0}"\n                [attr.aria-valuemin]="min" [attr.aria-valuenow]="value ? value[0] : null" [attr.aria-valuemax]="max" [attr.aria-labelledby]="ariaLabelledBy"></span>\n            <span #sliderHandleEnd *ngIf="range" [attr.tabindex]="disabled ? null : tabindex" (keydown)="onHandleKeydown($event,1)" (mousedown)="onMouseDown($event,1)" (touchstart)="onTouchStart($event,1)" (touchmove)="onTouchMove($event,1)" (touchend)="onTouchEnd($event)" [style.transition]="dragging ? \'none\': null" class="p-slider-handle" \n                [ngStyle]="{\'left\': rangeEndLeft, \'bottom\': rangeEndBottom}" [ngClass]="{\'p-slider-handle-active\':handleIndex==1}"\n                [attr.aria-valuemin]="min" [attr.aria-valuenow]="value ? value[1] : null" [attr.aria-valuemax]="max" [attr.aria-labelledby]="ariaLabelledBy"></span>\n        </div>\n    ',providers:[l],changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,styles:[".p-slider{position:relative}.p-slider .p-slider-handle{cursor:grab;touch-action:none}.p-slider-range,.p-slider .p-slider-handle{display:block;position:absolute}.p-slider-horizontal .p-slider-range{height:100%;left:0;top:0}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}"]}]}],s.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:t.NgZone},{type:t.ChangeDetectorRef}]},s.propDecorators={animate:[{type:t.Input}],disabled:[{type:t.Input}],min:[{type:t.Input}],max:[{type:t.Input}],orientation:[{type:t.Input}],step:[{type:t.Input}],range:[{type:t.Input}],style:[{type:t.Input}],styleClass:[{type:t.Input}],ariaLabelledBy:[{type:t.Input}],tabindex:[{type:t.Input}],onChange:[{type:t.Output}],onSlideEnd:[{type:t.Output}],sliderHandle:[{type:t.ViewChild,args:["sliderHandle"]}],sliderHandleStart:[{type:t.ViewChild,args:["sliderHandleStart"]}],sliderHandleEnd:[{type:t.ViewChild,args:["sliderHandleEnd"]}]};var r=function(){};r.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],exports:[s],declarations:[s]}]}],e.SLIDER_VALUE_ACCESSOR=l,e.Slider=s,e.SliderModule=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=primeng-slider.umd.min.js.map